(this.webpackJsonpnotes=this.webpackJsonpnotes||[]).push([[0],{106:function(t,e,n){t.exports={TitleInput:"Title_TitleInput__3JHxB"}},107:function(t,e,n){t.exports={ButtonContainer:"EditorButtonContainer_ButtonContainer__veloK",ButtonWithMenuContainer:"EditorButtonContainer_ButtonWithMenuContainer__2gIUb"}},108:function(t,e,n){t.exports={ColorContainer:"ColorContainer_ColorContainer__1L_ju"}},109:function(t,e,n){t.exports={NoteMenuItem:"NoteMenuItem_NoteMenuItem__22r3_"}},117:function(t,e,n){},118:function(t,e,n){},18:function(t,e,n){t.exports={Note:"Note_Note__2FwFU",blue:"Note_blue__3WIEK",green:"Note_green__1XbtZ",pink:"Note_pink__1P1-l",NoteEditorContainer:"Note_NoteEditorContainer__6q758",NoteGrabContainer:"Note_NoteGrabContainer__3XDGp",NoteButtonContainer:"Note_NoteButtonContainer__1SQfp",right:"Note_right__1grwx",bottom:"Note_bottom__ymkgG",NoteMenuButton:"Note_NoteMenuButton__23o6K"}},219:function(t,e,n){"use strict";n.r(e);var o,r=n(1),c=n(0),a=n.n(c),i=n(20),u=n.n(i),d=(n(117),n(118),n(50)),s=n.n(d),l=n(4),b=n(3),j=n(106),O=n.n(j),f=function(t){var e=Object(l.d)((function(e){return""!==e.page.currentPageId?e.page.pages.filter((function(e){return e.id===t.id}))[0].title:""!==e.board.currentBoardId?e.board.boards[t.id].title:void 0})),n=Object(l.d)((function(t){return""!==t.page.currentPageId?"page":""!==t.board.currentBoardId?"board":void 0})),o=Object(l.c)(),a=Object(c.useState)(e||"Untitled"),i=Object(b.a)(a,2),u=i[0],d=i[1],s=Object(c.useRef)(null);return Object(r.jsx)("input",{ref:s,id:O.a.TitleInput,type:"text",value:u,onChange:function(e){d(e.target.value),"page"===n&&o({type:"SAVE_PAGE_TITLE",id:t.id,title:e.target.value}),"board"===n&&o({type:"SAVE_BOARD_TITLE",title:e.target.value})},placeholder:"Untitled",onBlur:function(){s.current&&(s.current.scrollLeft=0)}})},p=function(){var t=Object(l.d)((function(t){return""!==t.page.currentPageId?t.page.currentPageId:""!==t.board.currentBoardId?t.board.currentBoardId:""})),e=Object(l.c)();return Object(r.jsxs)("header",{id:s.a.MainHeader,children:[Object(r.jsx)("div",{id:s.a.TitleContainer,children:""!==t?Object(r.jsx)(f,{id:t},t):Object(r.jsx)("p",{children:"Notes"})}),Object(r.jsx)("button",{id:s.a.CreateNote,onClick:function(){e({type:"CREATE_PAGE"})},children:"Create Note"})]})},g=n(2),h=n(16),S=n(8),y=n(23),_=n(37),E=n(107),C=n.n(E),v=n(108),I=n.n(v),T=function(t){return Object(r.jsx)("div",{className:I.a.ColorContainer,children:Object(r.jsx)("ul",{children:y.basic.map((function(e){return Object(r.jsxs)("li",{onClick:function(n){return function(e,n){e.preventDefault(),t.changeColor(t.type,n),t.showButton(t.type)}(n,e.name)},children:[Object(r.jsx)("div",{style:{background:e.color}}),e.name]},e.name)}))})})},m=n(38),x=n.n(m),B=function(t){var e=Object(c.useState)(!1),n=Object(b.a)(e,2),o=n[0],a=n[1],i=Object(c.useState)(t.editorState.getSelection()),u=Object(b.a)(i,2),d=u[0],s=u[1],l=Object(c.useState)({}),j=Object(b.a)(l,2),O=j[0],f=j[1];Object(c.useEffect)((function(){if("inline"===t.styleType&&(a(t.editorState.getCurrentInlineStyle().has(t.type)),t.hasMenu)){var e,n=Object(h.a)(y.basic);try{for(n.s();!(e=n.n()).done;){var o=e.value;if(t.editorState.getCurrentInlineStyle().has("".concat(o.name,"-").concat(t.type)))return void f({color:o.color});f({})}}catch(c){n.e(c)}finally{n.f()}}if("block"===t.styleType&&"unstyled"!==t.type){var r=t.editorState.getCurrentContent().getBlockForKey(d.getAnchorKey());a(r&&r.getType()===t.type)}}),[t.editorState,t.type,d,t.styleType,t.hasMenu]),Object(c.useEffect)((function(){s(t.editorState.getSelection())}),[t.editorState]);var p=Object(r.jsx)("button",{className:[x.a.InlineButton,"fas fa-".concat(t.icon),o?x.a.active:null].join(" "),onMouseDown:function(e){e.preventDefault(),t.fn(t.type)},"aria-label":t.type.toLowerCase(),style:O});return t.hasMenu&&(p=Object(r.jsxs)("div",{className:x.a.ButtonWithMenuContainer,children:[p,Object(r.jsx)("button",{onMouseDown:function(){return t.showButton(t.type)},className:x.a.InlineSubButton,"aria-label":"Dropdown",children:Object(r.jsx)("div",{})}),t.showValue?Object(r.jsx)(T,{type:t.type,changeColor:t.fn,showButton:t.showButton}):null]})),p},N=function(t){var e=Object(c.useState)(t.default),n=Object(b.a)(e,2),o=n[0],a=n[1],i=Object(c.useState)(t.editorState.getSelection()),u=Object(b.a)(i,2),d=u[0],s=u[1],l=Object(c.useCallback)((function(e){var n,o=Object(h.a)(t.options);try{for(o.s();!(n=o.n()).done;){var r=n.value;if(e.getCurrentInlineStyle().has("".concat(r,"-FONTSIZE")))return void a(r);a(t.default)}}catch(c){o.e(c)}finally{o.f()}}),[t.options,t.default]),j=Object(c.useCallback)((function(e,n){var o,r=e.getCurrentContent().getBlockForKey(n.getAnchorKey()),c=Object(h.a)(t.options);try{for(c.s();!(o=c.n()).done;){var i=o.value;if(r&&r.getType()===i)return void a(i);a("")}}catch(u){c.e(u)}finally{c.f()}}),[t.options]);return Object(c.useEffect)((function(){l(t.editorState),s(t.editorState.getSelection())}),[t.editorState,l]),Object(c.useEffect)((function(){"block"===t.styleType&&j(t.editorState,d)}),[d,t.editorState,j,t.styleType]),Object(r.jsxs)("select",{"aria-label":t.type.toLowerCase(),value:o,onChange:function(t){a(t.target.value)},children:[Object(r.jsx)("option",{value:"",children:"---"}),t.options.map((function(e){return Object(r.jsx)("option",{onClick:function(){return t.fn(e)},value:e,children:e},e)}))]})},P=[],w=[],M=_.sizes.map((function(t){return"".concat(t,"-FONTSIZE")})),k=Object(h.a)(y.basic);try{for(k.s();!(o=k.n()).done;){var R=o.value;P.push("".concat(R.name,"-TEXTCOLOR")),w.push("".concat(R.name,"-HIGHLIGHT"))}}catch(Ht){k.e(Ht)}finally{k.f()}var A,D=["header-one","header-two","header-three","header-four","header-five","header-six"],F=function(t){var e=Object(c.useState)(!1),n=Object(b.a)(e,2),o=n[0],a=n[1],i=Object(c.useState)(!1),u=Object(b.a)(i,2),d=u[0],s=u[1],l=Object(c.useState)([]),j=Object(b.a)(l,2),O=j[0],f=j[1],p=Object(c.useState)([]),g=Object(b.a)(p,2),h=g[0],y=g[1];Object(c.useEffect)((function(){var e=[{icon:"bold",type:"BOLD",btnType:"button"},{icon:"italic",type:"ITALIC",btnType:"button"},{icon:"underline",type:"UNDERLINE",btnType:"button"},{icon:"strikethrough",type:"STRIKETHROUGH",btnType:"button"},{icon:"superscript",type:"SUPERSCRIPT",btnType:"button"},{icon:"subscript",type:"SUBSCRIPT",btnType:"button"}],n=[{icon:"list-ul",type:"unordered-list-item",btnType:"button"},{icon:"list-ol",type:"ordered-list-item",btnType:"button"}],o=[].concat(e,[{icon:"font",type:"TEXTCOLOR",btnType:"button",color:!0,hasMenu:!0},{icon:"highlighter",type:"HIGHLIGHT",btnType:"button",color:!0,hasMenu:!0},{btnType:"select",type:"FONTSIZE"}]),r=[{btnType:"select",type:"headers"}].concat(n,[{icon:"quote-right",type:"blockquote",btnType:"button"},{icon:"code",type:"code-block",btnType:"button"},{icon:"remove-format",type:"unstyled",btnType:"button"}]);f((function(){return"basic"===t.editorButtonSelection?e:o})),y((function(){return"basic"===t.editorButtonSelection?n:r}))}),[t.editorButtonSelection]);var E=function(t){"TEXTCOLOR"===t?a((function(t){return!t})):s((function(t){return!t}))},v=function(e){t.setEditorState(S.RichUtils.toggleInlineStyle(t.editorState,e)),t.removeComponentLoadedState()},I=function(e){var n=e.reduce((function(e,n){return S.Modifier.removeInlineStyle(e,t.editorState.getSelection(),n)}),t.contentState);return S.EditorState.push(t.editorState,n,"change-inline-style")},T=function(e,n){var o="TEXTCOLOR"===e?P:w;if("TEXTCOLOR"===e&&"black"===n||"HIGHLIGHT"===e&&"white"===n)t.setEditorState(I(o));else{var r=S.Modifier.applyInlineStyle(I(o).getCurrentContent(),t.editorState.getSelection(),"".concat(n,"TEXTCOLOR"===e?"-TEXTCOLOR":"-HIGHLIGHT"));t.setEditorState(S.EditorState.push(t.editorState,r,"change-inline-style"))}t.removeComponentLoadedState()},m=function(e){if(16===e)t.setEditorState(I(M));else{var n=S.Modifier.applyInlineStyle(I(M).getCurrentContent(),t.editorState.getSelection(),"".concat(e,"-FONTSIZE"));t.setEditorState(S.EditorState.push(t.editorState,n,"change-inline-style"))}t.removeComponentLoadedState()},x=function(e){var n="SUPERSCRIPT"===e?"SUBSCRIPT":"SUPERSCRIPT",o=t.editorState;t.editorState.getCurrentInlineStyle().has(n)&&(o=S.RichUtils.toggleInlineStyle(t.editorState,n)),t.setEditorState(S.RichUtils.toggleInlineStyle(o,e)),t.removeComponentLoadedState()},k=function(e){t.setEditorState(S.RichUtils.toggleBlockType(t.editorState,e)),t.removeComponentLoadedState()};return Object(r.jsxs)("div",{className:[C.a.ButtonContainer,t.editorButtonClass].join(" "),children:[O.map((function(e){return"button"===e.btnType?function(e){var n="color"in e?T:"SUPERSCRIPT"===e.type||"SUBSCRIPT"===e.type?x:v,c="TEXTCOLOR"===e.type?o:d;return Object(r.jsx)(B,{type:e.type,icon:e.icon,hasMenu:e.hasMenu,fn:n,showValue:c,showButton:E,editorState:t.editorState,styleType:"inline"},e.type)}(e):Object(r.jsx)(N,{options:_.sizes,fn:m,type:e.type,default:"16",editorState:t.editorState,styleType:"inline"},e.type)})),h.map((function(e){return"button"===e.btnType?Object(r.jsx)(B,{type:e.type,icon:e.icon,fn:k,editorState:t.editorState,styleType:"block"},e.type):Object(r.jsx)(N,{options:D,fn:k,type:e.type,default:"headerone",editorState:t.editorState,styleType:"block"},e.type)}))]})},L=(n(218),{}),H={},G={},U=Object(h.a)(y.basic);try{for(U.s();!(A=U.n()).done;){var z=A.value;L["".concat(z.name,"-TEXTCOLOR")]={color:z.color},H["".concat(z.name,"-HIGHLIGHT")]={backgroundColor:z.color}}}catch(Ht){U.e(Ht)}finally{U.f()}var X,Z=Object(h.a)(_.sizes);try{for(Z.s();!(X=Z.n()).done;){var K=X.value;G["".concat(K,"-FONTSIZE")]={fontSize:K}}}catch(Ht){Z.e(Ht)}finally{Z.f()}var W=function(t){var e=t.id,n=t.saveNote,o=t.content,a=t.editorButtonClass,i=t.editorClass,u=t.showButtons,d=t.editorButtonSelection,s=t.lockEditor,l=Object(c.useState)(o?function(){return S.EditorState.createWithContent(Object(S.convertFromRaw)(JSON.parse(o)))}:function(){return S.EditorState.createEmpty()}),j=Object(b.a)(l,2),O=j[0],f=j[1],p=O.getCurrentContent(),h=Object(c.useRef)(null),y=Object(c.useState)(!0),_=Object(b.a)(y,2),E=_[0],C=_[1],v=Object(c.useState)(!1),I=Object(b.a)(v,2),T=I[0],m=I[1],x=Object(c.useRef)(null),B=Object(g.a)(Object(g.a)(Object(g.a)({STRIKETHROUGH:{textDecoration:"line-through"},SUPERSCRIPT:{fontSize:".83em",verticalAlign:"super"},SUBSCRIPT:{fontSize:".83em",verticalAlign:"sub"}},L),H),G);Object(c.useEffect)((function(){m(!1);var t=setTimeout((function(){n(e,JSON.stringify(Object(S.convertToRaw)(p))),E||m(!0)}),2e3);return function(){clearTimeout(t)}}),[p,E,n,e]),Object(c.useEffect)((function(){var t;null===(t=h.current)||void 0===t||t.addEventListener("keydown",(function(){C(!1)}))}),[]),Object(c.useEffect)((function(){var t=setTimeout((function(){!0===T&&m(!1)}),2500);return function(){clearTimeout(t)}}),[T]);return Object(r.jsxs)(r.Fragment,{children:[void 0===u||u?Object(r.jsx)(F,{editorState:O,setEditorState:f,contentState:p,removeComponentLoadedState:function(){E&&C(!1)},editorButtonClass:a,editorButtonSelection:d}):null,Object(r.jsx)("div",{ref:h,className:i,onClick:function(){x.current&&x.current.focus()},children:Object(r.jsx)(S.Editor,{ref:x,handleKeyCommand:function(t){var e=S.RichUtils.handleKeyCommand(O,t);return"on-tab"===t?"handled":e?(f(e),"handled"):"not-handled"},customStyleMap:B,editorState:O,onChange:f,keyBindingFn:function(t){if("Tab"===t.key){var e=O.getSelection(),n=O.getCurrentContent().getBlockForKey(e.getStartKey()).getType();if("unordered-list-item"===n||"ordered-list-item"===n){var o=S.RichUtils.onTab(t,O,4);f(o)}else{var r=S.Modifier.replaceText(O.getCurrentContent(),e,"\t");f(S.EditorState.push(O,r,"insert-characters"))}return"on-tab"}return Object(S.getDefaultKeyBinding)(t)},readOnly:void 0!==s&&s})})]})},J=n(63),V=n.n(J),Y=function(){var t=Object(l.d)((function(t){return t.page.currentPageId})),e=Object(l.d)((function(e){return e.page.pages.filter((function(e){return e.id===t}))[0].content})),n=Object(l.c)(),o=Object(c.useCallback)((function(t,e){n({type:"SAVE_PAGE",id:t,content:e})}),[n]);return Object(r.jsx)("div",{id:V.a.PageContainer,children:Object(r.jsx)(W,{id:t,editorClass:V.a.PageEditorContainer,editorButtonClass:"",saveNote:o,content:e,editorButtonSelection:"full"})})},q=n(223),Q=n(64),$=n.n(Q),tt=Object(l.b)((function(t){return{pages:t.page.pages,currentPageId:t.page.currentPageId}}),(function(t){return{showPage:function(e){return t({type:"SHOW_PAGE",id:e})},deletePage:function(e){return t({type:"DELETE_PAGE",id:e})},hideBoard:function(){return t({type:"HIDE_BOARD"})}}}))((function(t){return Object(r.jsx)("div",{className:$.a.PageMenu,children:Object(r.jsx)("ul",{children:t.pages.filter((function(e){return e.id!==t.currentPageId})).map((function(e){return Object(r.jsxs)("li",{children:[Object(r.jsx)("span",{onClick:function(){return n=e.id,t.showPage(n),t.hideBoard(),void t.props.containerToggle();var n},children:e.title||"Untitled"}),Object(r.jsx)("button",{className:$.a.btn,onClick:function(){return t.deletePage(e.id)},children:"X"})]},e.id)}))})})})),et=function(t){var e=Object(l.d)((function(t){return t.board.boards})),n=Object(l.d)((function(t){return t.board})),o=Object(l.c)();return Object(r.jsxs)("div",{children:[Object(r.jsx)("ul",{children:Object.keys(e).filter((function(t){return e[t].id!==n.currentBoardId})).map((function(n){return Object(r.jsxs)("li",{children:[Object(r.jsx)("span",{onClick:function(){return r=e[n].id,t.props.containerToggle(),o({type:"SHOW_BOARD",id:r}),void o({type:"HIDE_PAGE"});var r},children:e[n].title||"Untitled"}),Object(r.jsx)("button",{onClick:function(){return o({type:"DELETE_BOARD",id:e[n].id})},children:"X"})]},e[n].id)}))}),Object(r.jsx)("button",{onClick:function(){o({type:"CREATE_BOARD"})},children:"Create New Board"})]})},nt=n(24),ot=n.n(nt),rt=function(){var t=Object(c.useState)(!0),e=Object(b.a)(t,2),n=e[0],o=e[1],a=Object(c.useState)(!1),i=Object(b.a)(a,2),u=i[0],d=i[1],s=function(){o(!0)},l=function(){o(!1)},j=Object(c.useRef)(null),O={entering:{transform:"translateY(300px)"},entered:{transform:"translateY(300px)"},exited:{visibility:"hidden"}},f={transition:"transform ".concat(500," ease-in"),transform:"translateY(0)"},p=function(){d((function(t){return!t}))},h={containerToggle:p};return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(q.a,{in:u,timeout:500,nodeRef:j,children:function(t){return Object(r.jsxs)("div",{style:Object(g.a)(Object(g.a)({},f),O[t]),id:ot.a.MenuContainer,ref:j,children:[Object(r.jsxs)("div",{id:ot.a.MenuButtonContainer,children:[Object(r.jsx)("button",{className:n?ot.a.active:void 0,onClick:s,children:"Pages"}),Object(r.jsx)("button",{className:n?void 0:ot.a.active,onClick:l,children:"Board"})]}),n?Object(r.jsx)(tt,{props:h}):Object(r.jsx)(et,{props:h})]})}}),Object(r.jsx)("div",{id:ot.a.MenuToggle,className:u?ot.a.expanded:ot.a.collapsed,onClick:p,"aria-label":u?"Collapse Menu":"Expand Menu"})]})},ct=n(65),at=n.n(ct),it=n(18),ut=n.n(it),dt=n(39),st=n.n(dt),lt=n(109),bt=n.n(lt),jt=function(t){return Object(r.jsx)("button",{onClick:t.clickFunction,className:bt.a.NoteMenuItem,children:t.children})},Ot=[{name:"Original",color:""},{name:"Blue",color:"blue"},{name:"Green",color:"green"},{name:"Pink",color:"pink"}],ft=["editor","position","delete"],pt=function(t){var e=Object(l.c)(),n=Object(l.d)((function(e){return e.board.boards[e.board.currentBoardId].notes[t.id].locks})),o=Object(c.useState)(!1),a=Object(b.a)(o,2),i=a[0],u=a[1],d=Object(c.useState)(!1),s=Object(b.a)(d,2),j=s[0],O=s[1];return Object(r.jsxs)("div",{className:st.a.NoteMenu,children:[Object(r.jsx)(jt,{clickFunction:function(){u((function(t){return!t}))},children:"Change Note Color"}),i?Object(r.jsx)("div",{className:st.a.NoteSubMenu,children:Ot.map((function(n){return Object(r.jsx)(jt,{clickFunction:function(){return o=n.color,void e({type:"CHANGE_NOTE_COLOR",noteId:t.id,color:o});var o},children:n.name},n.name)}))}):null,Object(r.jsx)(jt,{clickFunction:function(){O((function(t){return!t}))},children:"Lock"}),j?Object(r.jsx)("div",{className:st.a.NoteSubMenu,children:ft.map((function(o){return Object(r.jsx)(jt,{clickFunction:function(){return n=o,void e({type:"TOGGLE_NOTE_LOCK",noteId:t.id,lockType:n});var n},children:n[o]?Object(r.jsxs)("div",{className:st.a.LockMenuItem,children:[Object(r.jsx)("div",{className:"fas fa-lock"}),Object(r.jsx)("p",{children:o})]}):o},o)}))}):null,Object(r.jsx)(jt,{clickFunction:function(){n.delete||e({type:"DELETE_NOTE",id:t.id})},children:"Delete"})]})},gt=function(t){var e=Object(l.d)((function(t){return t.board.currentBoardId})),n=Object(l.d)((function(n){return n.board.boards[e].notes[t.id]})),o=Object(c.useState)(0),a=Object(b.a)(o,2),i=a[0],u=a[1],d=Object(c.useState)(0),s=Object(b.a)(d,2),j=s[0],O=s[1],f=Object(c.useState)(!1),p=Object(b.a)(f,2),h=p[0],S=p[1],y=Object(l.d)((function(){return n.zIndex})),_=Object(l.d)((function(){return n.color})),E=Object(c.useState)({zIndex:y,top:t.top||20,left:t.left||20}),C=Object(b.a)(E,2),v=C[0],I=C[1],T=Object(l.d)((function(){return n.locks})),m=Object(c.useState)(T.position?{cursor:"default"}:{cursor:"grab"}),x=Object(b.a)(m,2),B=x[0],N=x[1],P=Object(l.c)(),w=Object(c.useState)(!1),M=Object(b.a)(w,2),k=M[0],R=M[1],A=Object(c.useState)(!1),D=Object(b.a)(A,2),F=D[0],L=D[1],H=Object(c.useState)(ut.a.NoteButtonContainer),G=Object(b.a)(H,2),U=G[0],z=G[1];Object(c.useEffect)((function(){t.noteFocus.inFocus&&t.noteFocus.id===n.id?R(!0):(R(!1),L(!1))}),[t.noteFocus,n.id]),Object(c.useEffect)((function(){T.position?N({cursor:"default"}):N({cursor:"grab"})}),[T.position]);var X=function(){y!==t.zIndex&&(P({type:"UPDATE_NOTE_ZINDEX",noteId:t.id,zIndex:t.zIndex+1}),P({type:"UPDATE_BOARD_ZINDEX",zIndex:t.zIndex+1}),I(Object(g.a)(Object(g.a)({},v),{},{zIndex:t.zIndex+1})))},Z=Object(c.useCallback)((function(t,e){P({type:"SAVE_NOTE_CONTENT",noteId:t,content:e})}),[P]);return Object(r.jsxs)("div",{className:[ut.a.Note,ut.a[_]].join(" "),style:v,onMouseMove:function(e){if(!T.position&&t.dragging&&h){var n=e.screenY-j-105+window.scrollY,o=e.screenX-i+window.scrollX;n<20&&(n=20),o<20&&(o=20),R(!1),L(!1),I(Object(g.a)(Object(g.a)({},v),{},{left:o,top:n}))}},onMouseUp:function(e){if(!T.position){var o=e.currentTarget.getBoundingClientRect().right+window.scrollX,r=e.currentTarget.getBoundingClientRect().bottom+window.scrollY;if(function(t,e){var n=[ut.a.NoteButtonContainer];t>.85*window.innerWidth&&n.push(ut.a.right),e<.1*(window.innerHeight-105)&&n.push(ut.a.bottom),z(n.join(" "))}(o-window.scrollX,v.top),S(!1),t.setDraggingState(!1),N({cursor:"grab"}),r>=t.containerHeight+80&&P({type:"UPDATE_BOARD_SIZE",direction:"height",size:r-80}),o>=t.containerWidth-20&&P({type:"UPDATE_BOARD_SIZE",direction:"width",size:o+20}),v.left!==n.left||v.top!==n.top||o!==n.right||r!==n.bottom){var c={left:v.left,top:v.top,right:o,bottom:r};P({type:"UPDATE_NOTE_POSITION",noteId:t.id,position:c})}}},onClick:function(e){e.stopPropagation(),t.setNoteFocus({id:n.id,inFocus:!0}),X()},children:[Object(r.jsx)("div",{className:ut.a.NoteGrabContainer,onMouseDown:function(e){T.position||(e.stopPropagation(),u(e.screenX-e.target.getBoundingClientRect().left),O(e.screenY-e.target.getBoundingClientRect().top),t.setDraggingState(!0),S(!0),N({cursor:"grabbing"}),X())},style:B,children:Object(r.jsx)("hr",{})}),Object(r.jsx)(W,{id:t.id,content:n.content,editorButtonClass:U,editorClass:ut.a.NoteEditorContainer,saveNote:Z,showButtons:k,editorButtonSelection:"basic",lockEditor:T.editor}),k?Object(r.jsx)("button",{onClick:function(){L((function(t){return!t}))},className:ut.a.NoteMenuButton,children:Object(r.jsxs)("svg",{viewBox:"0 0 515.555 515.555",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":"menuTitle menuDesc",role:"menu",children:[Object(r.jsx)("title",{id:"menuTitle",children:"Note Menu Button"}),Object(r.jsx)("desc",{id:"menuDesc",children:"Opens menu for the corresponding note"}),Object(r.jsx)("path",{d:"M303.347 18.875c25.167 25.167 25.167 65.971 0 91.138s-65.971 25.167-91.138 0-25.167-65.971 0-91.138c25.166-25.167 65.97-25.167 91.138 0M303.347 212.209c25.167 25.167 25.167 65.971 0 91.138s-65.971 25.167-91.138 0-25.167-65.971 0-91.138c25.166-25.167 65.97-25.167 91.138 0M303.347 405.541c25.167 25.167 25.167 65.971 0 91.138s-65.971 25.167-91.138 0-25.167-65.971 0-91.138c25.166-25.167 65.97-25.167 91.138 0"})]})}):null,F?Object(r.jsx)(pt,{id:t.id,hideMenu:function(){return L(!1)}}):null]})},ht=function(t){var e=Object(c.useState)(!1),n=Object(b.a)(e,2),o=n[0],a=n[1],i=Object(l.d)((function(e){return e.board.boards[t.id].maxZIndex})),u=Object(l.d)((function(e){return e.board.boards[t.id].width})),d=Object(l.d)((function(e){return e.board.boards[t.id].height})),s=Object(c.useState)({width:u,height:d}),j=Object(b.a)(s,2),O=j[0],f=j[1],p=Object(l.c)(),g=Object(l.d)((function(e){return e.board.boards[t.id].notes})),h=Object(l.d)((function(){return Object.keys(g)})),S=Object(c.useState)({id:"",inFocus:!1}),y=Object(b.a)(S,2),_=y[0],E=y[1],C=function(t){a(t)};Object(c.useEffect)((function(){var t=d,e=u;t<window.innerHeight-105&&(t="calc(100% - 105px)"),e<window.innerWidth&&(e="100%"),f({height:t,width:e})}),[d,u]);return Object(r.jsxs)("div",{id:at.a.NoteBoard,style:O,onClick:function(){return E({id:"",inFocus:!1})},children:[h.map((function(t){return Object(r.jsx)(gt,{id:g[t].id,left:g[t].left,top:g[t].top,dragging:o,setDraggingState:C,zIndex:i,containerWidth:u,containerHeight:d,noteFocus:_,setNoteFocus:E},g[t].id)})),Object(r.jsx)("button",{id:at.a.AddButton,onClick:function(){p({type:"CREATE_NOTE"}),p({type:"UPDATE_BOARD_ZINDEX",zIndex:i+1})},"aria-label":"Add Note",children:"+"})]})};var St=Object(l.b)((function(t){return{currentPageId:t.page.currentPageId,showEditor:t.page.showEditor,showBoard:t.board.showBoard,currentBoardId:t.board.currentBoardId}}))((function(t){return Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)(p,{}),Object(r.jsx)(rt,{}),t.showEditor&&""!==t.currentPageId&&Object(r.jsx)(Y,{},t.currentPageId),t.showBoard&&""!==t.currentBoardId&&Object(r.jsx)(ht,{id:t.currentBoardId},t.currentBoardId)]})})),yt=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,224)).then((function(e){var n=e.getCLS,o=e.getFID,r=e.getFCP,c=e.getLCP,a=e.getTTFB;n(t),o(t),r(t),c(t),a(t)}))},_t=n(110),Et=n(222),Ct=function(t,e){localStorage.setItem(t,JSON.stringify(e))},vt={pages:localStorage.getItem("pages")?JSON.parse(localStorage.getItem("pages")||"[]"):[],currentPageId:"",showEditor:!!localStorage.getItem("pages")},It=function(t,e){var n=Object(b.a)(e,3),o=n[0],r=n[1],c=void 0===r?"":r,a=n[2],i=void 0===a?"":a;return t.pages.map((function(t){return t.id===o&&(i&&(t.content=i),c&&(t.title=c)),t}))},Tt=function(t,e){var n=Object(_t.a)(t.pages);return n.splice(function(t,e){for(var n=0;n<t.pages.length;n++)if(t.pages[n].id===e)return n;return 0}(t,e),1),n},mt=function(t,e,n){var o=e(t,n);return Ct("pages",o),Object(g.a)(Object(g.a)({},t),{},{pages:o})},xt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"CREATE_PAGE":var n=t.pages.concat({id:Object(Et.a)(),title:"",content:""});return Ct("pages",n),Object(g.a)(Object(g.a)({},t),{},{pages:n});case"SAVE_PAGE":return mt(t,It,[e.id,null,e.content]);case"SAVE_PAGE_TITLE":return mt(t,It,[e.id,e.title,null]);case"DELETE_PAGE":return mt(t,Tt,e.id);case"SHOW_PAGE":return Object(g.a)(Object(g.a)({},t),{},{currentPageId:e.id,showEditor:!0});case"HIDE_PAGE":return Object(g.a)(Object(g.a)({},t),{},{currentPageId:"",showEditor:!1});default:return t}},Bt=n(17),Nt={boards:localStorage.getItem("boards")?JSON.parse(localStorage.getItem("boards")||"{}"):{},showBoard:!1,currentBoardId:""},Pt=function(t){var e=Object(Et.a)(),n=t.boards[t.currentBoardId].maxZIndex+1,o=Object(g.a)({},t.boards);return o[t.currentBoardId].notes[e]={id:e,content:"",left:0,top:0,right:0,bottom:0,zIndex:n,color:"",locks:{editor:!1,position:!1,delete:!1}},o},wt=function(t,e,n){return Object(g.a)(Object(g.a)({},e),{},Object(Bt.a)({},t.currentBoardId,Object(g.a)(Object(g.a)({},e[t.currentBoardId]),n)))},Mt=function(t,e){return Ct("boards",e),Object(g.a)(Object(g.a)({},t),{},{boards:e})},kt=function(t,e,n){var o=function(t,e,n){return Object(g.a)(Object(g.a)({},t.boards),{},Object(Bt.a)({},t.currentBoardId,Object(g.a)(Object(g.a)({},t.boards[t.currentBoardId]),{},{notes:Object(g.a)(Object(g.a)({},t.boards[t.currentBoardId].notes),{},Object(Bt.a)({},e,Object(g.a)({},n)))})))}(t,e,function(t,e,n){return Object(g.a)(Object(g.a)({},t.boards[t.currentBoardId].notes[e]),n)}(t,e,n));return Mt(t,o)},Rt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"CREATE_NOTE":return Mt(t,Pt(t));case"UPDATE_NOTE_POSITION":return kt(t,e.noteId,Object(g.a)({},e.position));case"UPDATE_NOTE_ZINDEX":return kt(t,e.noteId,{zIndex:e.zIndex});case"SAVE_NOTE_CONTENT":return kt(t,e.noteId,{content:e.content});case"CHANGE_NOTE_COLOR":return kt(t,e.noteId,{color:e.color});case"TOGGLE_NOTE_LOCK":var n=t.boards[t.currentBoardId].notes[e.noteId].locks;return kt(t,e.noteId,{locks:Object(g.a)(Object(g.a)({},n),{},Object(Bt.a)({},e.lockType,!n[e.lockType]))});case"DELETE_NOTE":var o=Object(g.a)({},t.boards[t.currentBoardId].notes);delete o[e.id];var r=Object(g.a)(Object(g.a)({},t.boards),{},Object(Bt.a)({},t.currentBoardId,Object(g.a)(Object(g.a)({},t.boards[t.currentBoardId]),{},{notes:o})));return Mt(t,r);default:return t}},At=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"CREATE_BOARD":if(Object.keys(t.boards).length>=2)return t;var n=Object(Et.a)(),o=Object(g.a)({},t.boards);return o[n]={title:"",notes:{},id:n,width:0,height:0,maxZIndex:1},Mt(t,o);case"SAVE_BOARD_TITLE":var r=Object(g.a)(Object(g.a)({},t.boards),{},Object(Bt.a)({},t.currentBoardId,Object(g.a)(Object(g.a)({},t.boards[t.currentBoardId]),{},{title:e.title})));return Mt(t,r);case"UPDATE_BOARD_ZINDEX":return Mt(t,wt(t,t.boards,{maxZIndex:e.zIndex}));case"UPDATE_BOARD_SIZE":return Mt(t,wt(t,t.boards,Object(Bt.a)({},e.direction,e.size)));case"SHOW_BOARD":return Object(g.a)(Object(g.a)({},t),{},{currentBoardId:e.id,showBoard:!0});case"HIDE_BOARD":return Object(g.a)(Object(g.a)({},t),{},{currentBoardId:"",showBoard:!1});case"DELETE_BOARD":var c=Object(g.a)({},t.boards);return delete c[e.id],Mt(t,c);default:return Rt(t,e)}},Dt=n(35),Ft=Object(Dt.b)({page:xt,board:At}),Lt=Object(Dt.c)(Ft);u.a.render(Object(r.jsx)(l.a,{store:Lt,children:Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(St,{})})}),document.getElementById("root")),yt()},23:function(t){t.exports=JSON.parse('{"basic":[{"name":"white","color":"#FFFFFF"},{"name":"silver","color":"#C0C0C0"},{"name":"gray","color":"#808080"},{"name":"black","color":"#000000"},{"name":"red","color":"#FF0000"},{"name":"maroon","color":"#800000"},{"name":"yellow","color":"#FFFF00"},{"name":"olive","color":"#808000"},{"name":"lime","color":"#00FF00"},{"name":"green","color":"#008000"},{"name":"aqua","color":"#00FFFF"},{"name":"teal","color":"#008080"},{"name":"blue","color":"#0000FF"},{"name":"navy","color":"#000080"},{"name":"fuchsia","color":"#FF00FF"},{"name":"purple","color":"#800080"}]}')},24:function(t,e,n){t.exports={MenuToggle:"MenuContainer_MenuToggle__8D7uP",expanded:"MenuContainer_expanded__32-Br",collapsed:"MenuContainer_collapsed__2SHcZ",MenuContainer:"MenuContainer_MenuContainer__2Y2IC",MenuButtonContainer:"MenuContainer_MenuButtonContainer__2kwCO",active:"MenuContainer_active__qGZgx"}},37:function(t){t.exports=JSON.parse('{"sizes":[8,9,10,11,12,14,16,18,24,28,30,36,48,60,72,96]}')},38:function(t,e,n){t.exports={InlineButton:"EditorButton_InlineButton__14yPu",InlineSubButton:"EditorButton_InlineSubButton__3lgyP",active:"EditorButton_active__1z0YK",ButtonWithMenuContainer:"EditorButton_ButtonWithMenuContainer__1h3gf"}},39:function(t,e,n){t.exports={NoteMenu:"NoteMenu_NoteMenu__g5tSX",NoteSubMenu:"NoteMenu_NoteSubMenu__1BGB5",LockMenuItem:"NoteMenu_LockMenuItem__99Mr4"}},50:function(t,e,n){t.exports={MainHeader:"Header_MainHeader__1dx0c",CreateNote:"Header_CreateNote__1HJgc",TitleContainer:"Header_TitleContainer__3bySe"}},63:function(t,e,n){t.exports={PageEditorContainer:"PageContainer_PageEditorContainer__Ypac8",PageContainer:"PageContainer_PageContainer__15tHX"}},64:function(t,e,n){t.exports={btn:"PageMenu_btn__17XWT"}},65:function(t,e,n){t.exports={NoteBoard:"NoteBoard_NoteBoard__3CFqR",AddButton:"NoteBoard_AddButton__fHatq"}}},[[219,1,2]]]);
//# sourceMappingURL=main.46aa28d0.chunk.js.map